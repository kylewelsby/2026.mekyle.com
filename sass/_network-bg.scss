// Network Background
// Transparent connector lines with sparking dots

.network-bg {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: $z-network-bg;
  pointer-events: none;
  opacity: 0.12;

  // SVG pattern with dots and connector lines
  // Repeating 200x200 grid with frost blue accents
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Ccircle cx='0' cy='0' r='2' fill='%2388C0D0' opacity='0.6'/%3E%3Ccircle cx='100' cy='50' r='2' fill='%2388C0D0' opacity='0.6'/%3E%3Ccircle cx='200' cy='0' r='2' fill='%2388C0D0' opacity='0.6'/%3E%3Ccircle cx='50' cy='100' r='2' fill='%2388C0D0' opacity='0.6'/%3E%3Ccircle cx='150' cy='100' r='2' fill='%2388C0D0' opacity='0.6'/%3E%3Ccircle cx='0' cy='200' r='2' fill='%2388C0D0' opacity='0.6'/%3E%3Ccircle cx='100' cy='150' r='2' fill='%2388C0D0' opacity='0.6'/%3E%3Ccircle cx='200' cy='200' r='2' fill='%2388C0D0' opacity='0.6'/%3E%3Cline x1='0' y1='0' x2='100' y2='50' stroke='%2388C0D0' stroke-width='0.5' opacity='0.4'/%3E%3Cline x1='100' y1='50' x2='200' y2='0' stroke='%2388C0D0' stroke-width='0.5' opacity='0.4'/%3E%3Cline x1='100' y1='50' x2='50' y2='100' stroke='%2388C0D0' stroke-width='0.5' opacity='0.4'/%3E%3Cline x1='100' y1='50' x2='150' y2='100' stroke='%2388C0D0' stroke-width='0.5' opacity='0.4'/%3E%3Cline x1='50' y1='100' x2='0' y2='200' stroke='%2388C0D0' stroke-width='0.5' opacity='0.4'/%3E%3Cline x1='50' y1='100' x2='100' y2='150' stroke='%2388C0D0' stroke-width='0.5' opacity='0.4'/%3E%3Cline x1='150' y1='100' x2='100' y2='150' stroke='%2388C0D0' stroke-width='0.5' opacity='0.4'/%3E%3Cline x1='150' y1='100' x2='200' y2='200' stroke='%2388C0D0' stroke-width='0.5' opacity='0.4'/%3E%3C/svg%3E");
  background-size: 200px 200px;
}

// Container for spark elements
.network-bg__sparks {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

// Individual spark dots with staggered animations
.network-bg__spark {
  position: absolute;
  width: 4px;
  height: 4px;
  background: $color-accent;
  border-radius: 50%;
  opacity: 0.2;
  animation: spark 5s ease-in-out infinite;

  // Distribute 12 sparks across the viewport
  &:nth-child(1) { left: 12%; top: 15%; animation-delay: 0.6s; animation-duration: 4s; }
  &:nth-child(2) { left: 37%; top: 15%; animation-delay: 1.2s; animation-duration: 5s; }
  &:nth-child(3) { left: 62%; top: 15%; animation-delay: 1.8s; animation-duration: 6s; }
  &:nth-child(4) { left: 87%; top: 15%; animation-delay: 2.4s; animation-duration: 4s; }
  &:nth-child(5) { left: 12%; top: 45%; animation-delay: 3.0s; animation-duration: 5s; }
  &:nth-child(6) { left: 37%; top: 45%; animation-delay: 3.6s; animation-duration: 6s; }
  &:nth-child(7) { left: 62%; top: 45%; animation-delay: 4.2s; animation-duration: 4s; }
  &:nth-child(8) { left: 87%; top: 45%; animation-delay: 4.8s; animation-duration: 5s; }
  &:nth-child(9) { left: 12%; top: 75%; animation-delay: 5.4s; animation-duration: 6s; }
  &:nth-child(10) { left: 37%; top: 75%; animation-delay: 6.0s; animation-duration: 4s; }
  &:nth-child(11) { left: 62%; top: 75%; animation-delay: 6.6s; animation-duration: 5s; }
  &:nth-child(12) { left: 87%; top: 75%; animation-delay: 7.2s; animation-duration: 6s; }

  @media (prefers-reduced-motion: reduce) {
    animation: none;
    opacity: 0.4;
  }
}

@keyframes spark {
  0%, 100% {
    opacity: 0.1;
    transform: scale(1);
    box-shadow: none;
  }
  50% {
    opacity: 0.9;
    transform: scale(1.8);
    box-shadow: 0 0 12px rgba($color-accent, 0.8);
  }
}
