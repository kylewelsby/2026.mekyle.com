{% extends "base.html" %}

{% block og_type %}profile{% endblock og_type %}

{% block body %}
<!-- Network background with connector lines -->
<div class="network-bg" aria-hidden="true">
    <div class="network-bg__sparks">
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
        <div class="network-bg__spark"></div>
    </div>
</div>

<main id="main-content">
    <!-- Hero section -->
    <section class="hero">
        <div class="hero__content">
            <h1 class="hero__title">{{ section.extra.hero.name }}</h1>
            <p class="hero__subtitle">{{ section.extra.hero.title }}</p>

            <p class="hero__tagline">{{ section.extra.tagline }}</p>

            <div class="hero__meta">
                <span class="hero__location">
                    <svg class="hero__flag" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-label="United Kingdom"><g clip-path="url(#GB_svg__a)"><path d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12Z" fill="#F0F0F0"/><path d="M2.48 4.693A11.956 11.956 0 0 0 .413 8.868h6.243L2.48 4.693Zm21.106 4.176a11.957 11.957 0 0 0-2.067-4.176L17.344 8.87h6.242ZM.413 15.13a11.957 11.957 0 0 0 2.067 4.176l4.176-4.176H.413ZM19.305 2.48A11.957 11.957 0 0 0 15.13.412v6.243l4.175-4.175ZM4.693 21.518a11.957 11.957 0 0 0 4.176 2.067v-6.243l-4.176 4.176ZM8.869.412A11.957 11.957 0 0 0 4.693 2.48L8.87 6.655V.412Zm6.261 23.173a11.96 11.96 0 0 0 4.175-2.067l-4.175-4.176v6.243Zm2.214-8.455 4.175 4.176a11.957 11.957 0 0 0 2.067-4.176h-6.242Z" fill="#0052B4"/><path d="M23.898 10.435H13.565V.102a12.12 12.12 0 0 0-3.13 0v10.333H.102a12.12 12.12 0 0 0 0 3.13h10.333v10.333a12.12 12.12 0 0 0 3.13 0V13.565h10.333a12.12 12.12 0 0 0 0-3.13Z" fill="#D80027"/><path d="m15.13 15.131 5.356 5.355c.246-.246.48-.503.705-.77l-4.584-4.585H15.13Zm-6.26 0-5.355 5.355c.246.246.503.481.77.705l4.585-4.584V15.13Zm0-6.261v-.001L3.515 3.514a12.03 12.03 0 0 0-.705.77L7.394 8.87H8.87Zm6.26 0 5.356-5.355a12.023 12.023 0 0 0-.77-.705L15.13 7.394V8.87Z" fill="#D80027"/></g><defs><clipPath id="GB_svg__a"><path fill="#fff" d="M0 0h24v24H0z"/></clipPath></defs></svg>
                    {{ section.extra.hero.location }}
                </span>
                <span class="hero__separator" aria-hidden="true">Â·</span>
                <span class="hero__relocation">
                    <svg class="hero__flag" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-label="European Union"><circle cx="12" cy="12" r="12" fill="#003399"/><g fill="#FFCC00"><path d="M12 3.5l.37 1.14h1.2l-.97.7.37 1.14-.97-.7-.97.7.37-1.14-.97-.7h1.2L12 3.5Z"/><path d="M16.24 5.26l.37 1.14h1.2l-.97.7.37 1.14-.97-.7-.97.7.37-1.14-.97-.7h1.2l.37-1.14Z"/><path d="M18.5 9.5l.37 1.14h1.2l-.97.7.37 1.14-.97-.7-.97.7.37-1.14-.97-.7h1.2L18.5 9.5Z"/><path d="M16.24 13.74l.37 1.14h1.2l-.97.7.37 1.14-.97-.7-.97.7.37-1.14-.97-.7h1.2l.37-1.14Z"/><path d="M12 15.5l.37 1.14h1.2l-.97.7.37 1.14-.97-.7-.97.7.37-1.14-.97-.7h1.2L12 15.5Z"/><path d="M7.76 13.74l.37 1.14h1.2l-.97.7.37 1.14-.97-.7-.97.7.37-1.14-.97-.7h1.2l.37-1.14Z"/><path d="M5.5 9.5l.37 1.14h1.2l-.97.7.37 1.14-.97-.7-.97.7.37-1.14-.97-.7h1.2L5.5 9.5Z"/><path d="M7.76 5.26l.37 1.14h1.2l-.97.7.37 1.14-.97-.7-.97.7.37-1.14-.97-.7h1.2l.37-1.14Z"/></g></svg>
                    {{ section.extra.hero.relocation }}
                </span>
            </div>

            <nav class="hero__social" aria-label="Social links">
                {% for link in section.extra.hero.social %}
                <a href="{{ link.url }}" class="hero__social-link" aria-label="{{ link.name }}" {% if link.icon != "mail" %}rel="noopener" target="_blank"{% endif %}>
                    {% if link.icon == "github" %}
                    <svg class="icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
                    {% elif link.icon == "linkedin" %}
                    <svg class="icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect width="4" height="12" x="2" y="9"/><circle cx="4" cy="4" r="2"/></svg>
                    {% elif link.icon == "mail" %}
                    <svg class="icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect x="2" y="4" width="20" height="16" rx="2"/></svg>
                    {% endif %}
                </a>
                {% endfor %}
            </nav>
        </div>

        <!-- Animated waves - transition to content section -->
        <div class="waves" aria-hidden="true">
            <svg class="waves__svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                <defs>
                    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/>
                </defs>
                <g class="waves__parallax">
                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(5,69,122,0.7)"/>
                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(145,204,245,0.5)"/>
                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(5,69,122,0.3)"/>
                    <use xlink:href="#gentle-wave" x="48" y="7" fill="#3B4252"/>
                </g>
            </svg>
        </div>
    </section>

    <!-- About section -->
    <section id="about" class="about">
        <div class="container">
            <h2 class="section-title">About</h2>

            <img
                src="/images/profile.webp"
                srcset="/images/profile.webp 200w, /images/profile@2x.webp 400w"
                sizes="(min-width: 768px) 200px, 150px"
                alt="Kyle Welsby - profile photo"
                class="about__photo"
                width="200"
                height="200"
                loading="lazy"
            />

            <div class="about__content">
                {{ section.content | safe }}
            </div>
        </div>
    </section>

    <!-- Impact Narratives section -->
    <section id="impact" class="impact">
        <div class="container">
            <h2 class="section-title">Impact</h2>

            <div class="impact__grid">
                {% for item in section.extra.impacts %}
                <article class="impact-card">
                    <header class="impact-card__header">
                        <h3 class="impact-card__title">{{ item.title }}</h3>
                        <span class="impact-card__badge">{{ item.company }}</span>
                    </header>
                    <p class="impact-card__role">{{ item.role }}</p>

                    <div class="impact-card__narrative">
                        <p><strong>The problem:</strong> {{ item.problem }}</p>
                        <p><strong>What I did:</strong> {{ item.solution }}</p>
                        <p><strong>Outcome:</strong> {{ item.outcome }}</p>
                    </div>

                    <div class="impact-card__tech">
                        {% for tech in item.technologies %}
                        <span class="impact-card__tag">{{ tech }}</span>
                        {% endfor %}
                    </div>
                </article>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Testimonials section -->
    <section id="testimonials" class="testimonials">
        <div class="container">
            <h2 class="section-title">What Colleagues Say</h2>

            <div class="testimonials__grid">
                {% for testimonial in section.extra.testimonials %}
                <figure class="testimonial">
                    <blockquote class="testimonial__quote">
                        {{ testimonial.quote }}
                    </blockquote>
                    <figcaption class="testimonial__attribution">
                        <span class="testimonial__author">{{ testimonial.author }}</span>
                        <span class="testimonial__title">{{ testimonial.title }}</span>
                    </figcaption>
                </figure>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Experience Timeline section -->
    <section id="experience" class="experience">
        <div class="container">
            <h2 class="section-title">Experience</h2>

            <div class="experience__timeline">
                {% for job in section.extra.experience %}
                <div class="experience__item">
                    <span class="experience__period">{{ job.period }}</span>
                    <div class="experience__details">
                        <span class="experience__role">{{ job.role }}</span>
                        <span class="experience__company">{{ job.company }}</span>
                        <span class="experience__scope">{{ job.scope }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Speaking section -->
    <section id="speaking" class="speaking">
        <div class="container">
            <h2 class="section-title">Speaking & Writing</h2>

            <div class="speaking__list">
                {% for item in section.extra.speaking %}
                <article class="speaking-card">
                    {% if item.type == "talk" %}
                    <div class="speaking-card__icon">
                        <svg class="icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="23 7 16 12 23 17 23 7"/><rect width="15" height="14" x="1" y="5" rx="2" ry="2"/></svg>
                    </div>
                    {% else %}
                    <div class="speaking-card__icon">
                        <svg class="icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
                    </div>
                    {% endif %}
                    <div class="speaking-card__content">
                        <h3 class="speaking-card__title">
                            {% if item.url %}
                            <a href="{{ item.url }}" target="_blank" rel="noopener">{{ item.title }}</a>
                            {% else %}
                            {{ item.title }}
                            {% endif %}
                        </h3>
                        {% if item.event %}
                        <span class="speaking-card__event">{{ item.event }}</span>
                        {% endif %}
                        <p class="speaking-card__description">{{ item.description }}</p>
                    </div>
                </article>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Contact section -->
    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title">Get in Touch</h2>

            <p>Open to conversations about Senior and Staff IC roles in AI Systems or Financial Platforms.</p>

            <nav class="contact__links" aria-label="Contact links">
                <a href="{{ config.extra.linkedin }}" class="contact__link" rel="noopener" target="_blank">
                    <svg class="icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect width="4" height="12" x="2" y="9"/><circle cx="4" cy="4" r="2"/></svg>
                    LinkedIn
                </a>
                <a href="mailto:{{ config.extra.author_email }}" class="contact__link">
                    <svg class="icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect x="2" y="4" width="20" height="16" rx="2"/></svg>
                    Email
                </a>
                <a href="{{ config.extra.github }}" class="contact__link" rel="noopener" target="_blank">
                    <svg class="icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
                    GitHub
                </a>
            </nav>
        </div>
    </section>
</main>
{% endblock body %}
